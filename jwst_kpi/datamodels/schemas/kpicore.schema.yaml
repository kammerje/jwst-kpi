%YAML 1.1
---
$schema: "http://stsci.edu/schemas/fits-schema/fits-schema"
id: "http://stsci.edu/schemas/jwst_kpi_datamodel/kpicore.schema"
type: object
properties:
  meta:
    type: object
    properties:
      cent_x:
        title: Centroid in original image along X axis
        type: number
        fits_keyword: CENT_X
        # NOTE: Putting in primary for now instead of repeating in all extensions
        # fits_hdu: SCI
      cent_y:
        title: Centroid in original image along Y axis
        type: number
        fits_keyword: CENT_Y
        # NOTE: Putting in primary for now instead of repeating in all extensions
        # fits_hdu: SCI
      fix_meth:
        title: Bad pixel fix method
        type: string
        fits_keyword: FIX_METH
        # NOTE: Putting in primary for now instead of repeating in all extensions
        # (originally in SCI and ERR)
        # fits_hdu: PRIMARY
      bad_bits:
        title: Bit codes considered bad pixels
        type: string
        fits_keyword: BAD_BITS
        fits_hdu: DQ-MOD
      wrad:
        title: Windowing radius
        type: number
        fits_keyword: WRAD
        # NOTE: Putting in primary for now instead of repeating in all extensions
        # (originally in SCI and ERR)
        # fits_hdu: PRIMARY
      cal_step_kpi:
        title: Calibration step information for KPI steps
        type: object
        properties:
          trim:
            title: Trim Frames to Smaller Size
            type: string
            fits_keyword: S_TRIM
            blend_table: True
          fix_badpix:
            title: Fix Bad Pixels in Image
            type: string
            fits_keyword: S_BADPIX
            blend_table: True
          recenter:
            title: Recenter Image to Given Position
            type: string
            fits_keyword: S_RECENT
            blend_table: True
          window:
            title: Window Frames with Supergaussian
            type: string
            fits_keyword: S_WINDOW
            blend_table: True
          extract:
            title: Kernel Phase Extraction
            type: string
            fits_keyword: S_EXTKER
            blend_table: True
          empirical_uncert:
            title: Calculate Empirical KPI Uncertainties
            type: string
            fits_keyword: S_EMPUNC
            blend_table: True
