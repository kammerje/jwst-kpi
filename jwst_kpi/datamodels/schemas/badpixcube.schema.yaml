%YAML 1.1
---
$schema: "http://stsci.edu/schemas/fits-schema/fits-schema"
id: "http://stsci.edu/schemas/jwst_kpi_datamodel/badpixcube.schema"
allOf:
# NOTE: Not sure need to include all of this (except for cube, but not taking chances)
- $ref: http://stsci.edu/schemas/jwst_datamodel/cube.schema
- $ref: http://stsci.edu/schemas/jwst_datamodel/bunit.schema
- $ref: http://stsci.edu/schemas/jwst_datamodel/photometry.schema
- $ref: http://stsci.edu/schemas/jwst_datamodel/wcsinfo.schema
- type: object
  properties:
    dq_mod:
      title: DQ Mask from bp fix
      fits_hdu: DQ-MOD
      default: 0
      ndim: 3
      datatype: uint32
    meta:
      type: object
      properties:
        fix_meth:
          title: Bad pixel fix method
          type: string
          fits_keyword: FIX_METH
          # NOTE: Putting in primary for now instead of repeating in all extensions
          # (originally in SCI and ERR)
          # fits_hdu: PRIMARY
        bad_bits:
          title: Bit codes considered bad pixels
          type: string
          fits_keyword: BAD_BITS
          fits_hdu: DQ-MOD
- $ref: http://stsci.edu/schemas/jwst_datamodel/int_times.schema
- $ref: http://stsci.edu/schemas/jwst_datamodel/variance.schema
